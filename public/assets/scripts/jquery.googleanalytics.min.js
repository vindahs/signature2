!function(t,e){"use strict";t.extend(t.expr[":"],{ga:function(t){for(var e=t.attributes,n=e.length;n--;)if(-1!==e[n].name.indexOf("data-ga-"))return!0;return!1}}),t.googleAnalyticsApi={trackEvent:{event:{value:"event",validation:"isString",type:"string"},category:{value:null,validation:"isString",type:"string"},action:{value:null,validation:"isString",type:"string"},label:{value:null,validation:"optString",type:"string"},value:{value:null,validation:"optInt",type:"integer"},nonInteraction:{value:null,validation:"optBool",type:"boolean"}},trackPageview:{event:{value:"pageview",validation:"isString",type:"string"},url:{value:null,validation:"optString",type:"string"}}};var n={isString:function(t){var e=!0;return t&&(e=/^\s*$/.test(t)),!e},optString:function(t){return null==t?!0:n.isString(t)},isInt:function(t){return/^[\-+]?\d+$/.test(t)||t===+t&&t===(0|t)},optInt:function(t){return null==t?!0:n.isInt(t)},isFloat:function(t){return/^[\-+]?\d+(\.\d+)?$/.test(t)||t===+t&&t!==(0|t)},optFloat:function(t){return null==t?!0:n.isFloat(t)},isBool:function(t){return t===!0||"true"===t||t===!1||"false"===t},optBool:function(t){return null==t?!0:n.isBool(t)}},a={validate:function(t,e){var a,i=this.$element,o=i.data("ga-"+e.toLowerCase());if(!n[t.validation])throw new TypeError("Unknown validation type");if(a=n[t.validation](o),!a)throw new Error("object validation error on "+e);return o},createArgs:function(){var e=this,n=this.event,i=[];for(t.each(n,function(t,n){var o;o="event"===t?n.value:a.validate.call(e,n,t),i.push(o)});null==i[i.length-1];)i.pop();return i}},i=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.googleAnalytics.defaults,n)};i.prototype={constructor:i,trackEvent:function(){var n=t.Event("tracked.ga");if(this.args=a.createArgs.call(this),this.options.debug)e.console&&e.console.log&&(console.log("Pushing Google analytics data.",this.args),this.$element.trigger(n));else{var i=e.ga;i?"event"==this.args[0]?i("send","event",this.args[1],this.args[2],this.args[3]):(i("set","page",this.args[1]),i("send","pageview")):console.log("Google Analytics ga object is not defined.");var o=this;o.$element.trigger(n),setTimeout(function(){var t=o.$element.attr("href"),n=o.$element.attr("target");if(t&&0!==t.indexOf("#")){var a=document.createElement("a");if(!a.click)return void(n&&"_blank"===n?e.open(t,n):e.location=t);a.setAttribute("href",t),n&&"_blank"===n&&a.setAttribute("target",n),a.style.display="none",document.body.appendChild(a),a.click()}},100)}}},t.fn.googleAnalytics=function(e){return this.each(function(){var n=t(this),a=n.data("ga"),o="object"==typeof e?e:null;a||n.data("ga",a=new i(this,o));var r=a.options.handler.toLowerCase(),l=a.$element.attr("data-ga-event");t.extend(a.options,{event:l}),a.event=t.googleAnalyticsApi[a.options.event],"load"===r?a.trackEvent():a.$element.on(r+".ga",function(t){t.preventDefault(),a.trackEvent()})})},t.fn.googleAnalytics.defaults={event:"trackEvent",handler:"click",debug:!1},t.fn.googleAnalytics.Constructor=i,t(document).on("ready.ga",function(){t(":ga").each(function(){t(this).googleAnalytics()})})}(jQuery,window);